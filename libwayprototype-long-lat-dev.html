<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/core.js'></script>
	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.40.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.40.1/mapbox-gl.css' rel='stylesheet' />
	
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }

		#info {
			display: block;
			position: relative;
			margin: 0px auto;
			width: 50%;
			padding: 10px;
			border: none;
			border-radius: 3px;
			font-size: 12px;
			text-align: center;
			color: #222;
			background: #fff;
		}
    </style>
</head>
<body>

<div id='map'></div>
<pre id='info'></pre>
<script>
 $('.enter_link').click(function() { 
        $(this).parent().fadeOut(500);
 });
</script>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiZ3V5YnJhcmlhbiIsImEiOiJjajg5Zm11NGgwMmpxMzJta240NzhpNHA1In0.HOyG17c2EHIlKbLdiSsmTA';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/mapbox/dark-v9',
    center: [-92.328, 38.9418], // starting position
    zoom: 20, // starting zoom
	pitch: 60, // pitch in degrees
    bearing: 20, // bearing in degrees
});

map.addControl(new mapboxgl.GeolocateControl({
    positionOptions: {
        enableHighAccuracy: true
    },
    trackUserLocation: true
}));

map.on('load', function() {

    map.addLayer({
        'id': 'room-extrusion',
        'type': 'fill-extrusion',
        'source': {
            // Geojson Data source used in vector tiles, documented at
            // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
            'type': 'geojson',
            'data': {
				"type": "Feature",
				  "properties": {
					"level": 2,
					"name": "stacks",
					"height": 3,
					"base_height": 0,
					"color": "orange"
				  },
				"geometry": {
    "coordinates": [
		[
		  [
			[
			  -92.328156,
			  38.941795
			],
			[
			  -92.328153,
			  38.941795
			],
			[
			  -92.328155,
			  38.941712
			],
			[
			  -92.328157,
			  38.941712
			],
			[
			  -92.328156,
			  38.941795
			]
		  ]
		],
		[
		  [
			[
			  -92.328155,
			  38.941798
			],
			[
			  -92.328148,
			  38.941798
			],
			[
			  -92.328148,
			  38.941796
			],
			[
			  -92.328156,
			  38.941796
			],
			[
			  -92.328155,
			  38.941798
			]
		  ]
		],
		[
		  [
			[
			  -92.328148,
			  38.941805
			],
			[
			  -92.328013,
			  38.941802
			],
			[
			  -92.328013,
			  38.9418
			],
			[
			  -92.328148,
			  38.941803
			],
			[
			  -92.328148,
			  38.941805
			]
		  ]
		],
		[
		  [
			[
			  -92.328134,
			  38.94176
			],
			[
			  -92.328133,
			  38.941799
			],
			[
			  -92.328127,
			  38.941799
			],
			[
			  -92.328128,
			  38.94176
			],
			[
			  -92.328134,
			  38.94176
			]
		  ]
		],
		[
		  [
			[
			  -92.328114,
			  38.94176
			],
			[
			  -92.328113,
			  38.941799
			],
			[
			  -92.328107,
			  38.941799
			],
			[
			  -92.328108,
			  38.94176
			],
			[
			  -92.328114,
			  38.94176
			]
		  ]
		],
		[
		  [
			[
			  -92.328091,
			  38.94176
			],
			[
			  -92.328091,
			  38.941791
			],
			[
			  -92.328084,
			  38.941791
			],
			[
			  -92.328085,
			  38.94176
			],
			[
			  -92.328091,
			  38.94176
			]
		  ]
		],
		[
		  [
			[
			  -92.328069,
			  38.941759
			],
			[
			  -92.328068,
			  38.941798
			],
			[
			  -92.328062,
			  38.941798
			],
			[
			  -92.328063,
			  38.941759
			],
			[
			  -92.328069,
			  38.941759
			]
		  ]
		],
		[
		  [
			[
			  -92.328052,
			  38.941758
			],
			[
			  -92.328051,
			  38.941797
			],
			[
			  -92.328044,
			  38.941797
			],
			[
			  -92.328046,
			  38.941758
			],
			[
			  -92.328052,
			  38.941758
			]
		  ]
		],
		[
		  [
			[
			  -92.328073,
			  38.941718
			],
			[
			  -92.328072,
			  38.94175
			],
			[
			  -92.328065,
			  38.94175
			],
			[
			  -92.328066,
			  38.941718
			],
			[
			  -92.328073,
			  38.941718
			]
		  ]
		],
		[
		  [
			[
			  -92.328093,
			  38.941719
			],
			[
			  -92.328093,
			  38.94175
			],
			[
			  -92.328086,
			  38.94175
			],
			[
			  -92.328087,
			  38.941718
			],
			[
			  -92.328093,
			  38.941719
			]
		  ]
		],
		[
		  [
			[
			  -92.328115,
			  38.941719
			],
			[
			  -92.328115,
			  38.941751
			],
			[
			  -92.328108,
			  38.94175
			],
			[
			  -92.328109,
			  38.941719
			],
			[
			  -92.328115,
			  38.941719
			]
		  ]
		],
		[
		  [
			[
			  -92.328135,
			  38.941719
			],
			[
			  -92.328135,
			  38.941751
			],
			[
			  -92.328128,
			  38.941751
			],
			[
			  -92.328129,
			  38.941719
			],
			[
			  -92.328135,
			  38.941719
			]
		  ]
		],
		[
		  [
			[
			  -92.328154,
			  38.941713
			],
			[
			  -92.328154,
			  38.941712
			],
			[
			  -92.328057,
			  38.941709
			]
		  ]
		],
		[
		  [
			[
			  -92.32815,
			  38.94172
			],
			[
			  -92.328149,
			  38.941751
			],
			[
			  -92.328142,
			  38.941751
			],
			[
			  -92.328143,
			  38.94172
			],
			[
			  -92.32815,
			  38.94172
			]
		  ]
		],
		[
		  [
			[
			  -92.328149,
			  38.941761
			],
			[
			  -92.328149,
			  38.941792
			],
			[
			  -92.328142,
			  38.941792
			],
			[
			  -92.328143,
			  38.94176
			],
			[
			  -92.328149,
			  38.941761
			]
		  ]
		],
		[
		  [
			[
			  -92.328154,
			  38.941713
			],
			[
			  -92.328057,
			  38.94171
			],
			[
			  -92.328057,
			  38.941709
			]
		  ]
		],
		[
		  [
			[
			  -92.328011,
			  38.941802
			],
			[
			  -92.328011,
			  38.941752
			],
			[
			  -92.328007,
			  38.941752
			],
			[
			  -92.328008,
			  38.941802
			],
			[
			  -92.328011,
			  38.941802
			]
		  ]
		 ]
	],
				
				"type": "MultiPolygon"
			  },
			  "id": "99c327132ee2413639dbbcd30d04944c"
			},
		},
        'paint': {
            // See the Mapbox Style Spec for details on property functions
            // https://www.mapbox.com/mapbox-gl-style-spec/#types-function
            'fill-extrusion-color': {
                // Get the fill-extrusion-color from the source 'color' property.
                'property': 'color',
                'type': 'identity'
            },
            'fill-extrusion-height': {
                // Get fill-extrusion-height from the source 'height' property.
                'property': 'height',
                'type': 'identity'
            },
            'fill-extrusion-base': {
                // Get fill-extrusion-base from the source 'base_height' property.
                'property': 'base_height',
                'type': 'identity'
            },
            // Make extrusions slightly opaque for see through indoor walls.
            'fill-extrusion-opacity': 0.5
        }
    });
});

var popup = new mapboxgl.Popup({closeOnClick: false})
    .setLngLat([-92.328, 38.9418])
    .setHTML('<span>Search MERLIN <br /> <img src="http://laurel.lso.missouri.edu/screens/merlin.png"> <br /><input type="text" /> <a href="#"><button type="submit">Submit</button></a> </span>')
    .addTo(map);

// Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());

map.on('mousemove', function (e) {
    document.getElementById('info').innerHTML =
        // e.point is the x, y coordinates of the mousemove event relative
        // to the top-left corner of the map
        JSON.stringify(e.point) + '<br />' +
        // e.lngLat is the longitude, latitude geographical position of the event
        JSON.stringify(e.lngLat);
});

</script>

</body>
</html>
